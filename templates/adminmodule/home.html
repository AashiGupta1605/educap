{% extends "./base.html" %}
{% block content %}
<script>
    var di = { "key": "{{states.count}}" }
    console.log(di)
    console.log("{{states.count}}")
</script>



<!-- Total courses Modal -->
<div class="modal fade" id="totalCoursesModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Courses</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <ol>
                    {% for i in courses %}
                    <li>
                        <a href='../adminmodule/viewcourse?data={{i.pk}}' style='text-decoration:None;'>{{i.name}}</a>
                    </li>
                    {% endfor %}
                </ol>
            </div>
        </div>
    </div>
</div>

<!-- Total Notes Modal -->
<div class="modal fade" id="totalNotesModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Notes</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <ol>
                    {% for i in courses %}
                    <li>
                        <a href='../adminmodule/viewcourse?data={{i.pk}}' style='text-decoration:None;'>{{i.name}} - {{i.notes_set.all|length}}</a>
                    </li>
                    {% endfor %}
                </ol>
            </div>
        </div>
    </div>
</div>

<!-- Total assignments Modal -->
<div class="modal fade" id="totalAssignmentsModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Assignments</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <ol>
                    {% for i in courses %}
                    <li>
                        <a href='../adminmodule/viewcourse?data={{i.pk}}' style='text-decoration:None;'>{{i.name}} - {{i.assignment_set.all|length}}</a>
                    </li>
                    {% endfor %}
                </ol>
            </div>
        </div>
    </div>
</div>


<!-- Total videos Modal -->
<div class="modal fade" id="totalVideosModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Videos</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <ol>
                    {% for i in courses %}
                    <li>
                        <a href='../adminmodule/viewcourse?data={{i.pk}}' style='text-decoration:None;'>{{i.name}} - {{i.video_set.all|length}}</a>
                    </li>
                    {% endfor %}
                </ol>
            </div>
        </div>
    </div>
</div>
<div class="row shadow p-3 mb-3 bg-body rounded m-1 border">
    <h2>Dashboard</h2>
</div>


<div class="row m-1">
    <div class="col shadow p-3 mb-5 bg-body rounded mx-4">
            <h3 class="text-center" style='text-decoration:None;' data-bs-toggle="modal"
            data-bs-target="#totalCoursesModal">Total Courses: {{courses.count}}</h3>
    </div>
    <div class="col shadow p-3 mb-5 bg-body rounded mx-4">
        <h3 class="text-center" style='text-decoration:None;' data-bs-toggle="modal"
        data-bs-target="#totalCoursesModal">Total Students: {{students.count}}</h3>
</div>
</div>

<div class="row m-1">
    <div class="col shadow p-3  bg-body rounded mx-4">
            <h3 class="text-center" style='text-decoration:None;' data-bs-toggle="modal"
            data-bs-target="#totalNotesModal">Notes: {{notes.count}}</h3>
    </div>

    <div class="col shadow p-3 bg-body rounded mx-4">
            <h3 class="text-center" style='text-decoration:None;' data-bs-toggle="modal"
            data-bs-target="#totalAssignmentsModal">Assignments:{{assignments.count}}</h3>
    </div>
    <div class="col shadow p-3 bg-body rounded mx-4">
        <!-- <h3 class="text-center" data-bs-toggle="popover" title="Popover title"
            data-bs-content="<ul>{% for i in courses %}<li><a href='../adminmodule/viewcourse?data={{i.pk}}' style='text-decoration:None;'>{{i.name}} - {{i.video_set.all|length}}</a></li>{% endfor %}</ul>"
            data-bs-html="true">Videos: {{videos.count}}</h3> -->
            <h3 class="text-center" style='text-decoration:None;' data-bs-toggle="modal"
            data-bs-target="#totalVideosModal">Videos: {{videos.count}}</h3>
    </div>



    <script>

        var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'))
        var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
            return new bootstrap.Popover(popoverTriggerEl)
        })
    </script>

    {% endblock %}