{% extends "./base.html" %}
{% block content %}
<script>
    function filldata(names){
      document.getElementById("course").value=names.course
      document.getElementById("time").value=names.time
      document.getElementById("date").value=names.date
      document.getElementById("days").value=names.days
      document.getElementById("a").value=names.a
    }
    
    </script>
 <!-- edit Batches Modal -->
 <div class="modal fade"
 id="editBatchesModal"
 tabindex="-1"
 aria-labelledby="exampleModalLabel"
 aria-hidden="true">
<div class="modal-dialog">
<div class="modal-content">
  <div class="modal-header">
    <h5 class="modal-title" id="exampleModalLabel">Edit Batches</h5>
    <button type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"></button>
  </div>
  <div class="modal-body">
    <form action="../adminmodule/editbatch"
          method="post"
          enctype="multipart/form-data">
      <p>
        Choose a course:
      </p>
      <select name="courses" id="course">
        {% for i in course %}
          <option value="{{ i.id }}">
            {{ i.name }}
          </option>
        {% endfor %}
      </select>
      <p>
        Starting Date:
      </p>
      <input type="date" name="date" id="date" required>
      <p>
        Time:
      </p>
      <input type="time" name="time"  id ="time" required>
      <select name="a" id="a">
        <option value="Am">
          Am
        </option>
        <option value="Pm">
          Pm
        </option>
      </select>
      <p>
        Days:
      </p>
      <div class="form-check">
        <input type="checkbox"
               class="form-check-input"
               id="mon"
               value="mon"
               name="days">
        <label class="form-check-label" for="mon">Monday</label>
      </div>
      <div class="form-check">
        <input type="checkbox"
               class="form-check-input"
               id="tues"
               value="tues"
               name="days">
        <label class="form-check-label" for="tues">Tuesday</label>
      </div>
      <div class="form-check">
        <input type="checkbox"
               class="form-check-input"
               id="wed"
               value="wed"
               name="days">
        <label class="form-check-label" for="wed">Wednesday</label>
      </div>
      <div class="form-check">
        <input type="checkbox"
               class="form-check-input"
               id="thrus"
               value="thrus"
               name="days">
        <label class="form-check-label" for="thrus">Thrusday</label>
      </div>
      <div class="form-check">
        <input type="checkbox"
               class="form-check-input"
               id="fri"
               value="fri"
               name="days">
        <label class="form-check-label" for="fri">Friday</label>
      </div>
      <div class="form-check">
        <input type="checkbox"
               class="form-check-input"
               id="sat"
               value="sat"
               name="days">
        <label class="form-check-label" for="sat">Saturday</label>
      </div>
      <div class="form-check">
        <input type="checkbox"
               class="form-check-input"
               id="sun"
               value="sun"
               name="days">
        <label class="form-check-label" for="sun">Sunday</label>
      </div>
      {% csrf_token %}
      <div class="modal-footer">
        <input type="submit" class="btn btn-primary" value="Edit">
        <br>
      </div>
    </form>
  </div>
</div>
</div>
</div>
<div class="row shadow p-3 mb-3 bg-body rounded m-1 border">
<h2>Batches</h2>
</div>
{% if batch %}
<table class="table table-striped project-orders-table shadow p-3 mb-3 bg-body border rounded">
  <thead>
    <tr>
      <th class="ml-5">SNo.</th>
      <th>course</th>
      <th>days</th>
      <th>date</th>
      <th>time</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody >
    {% for i in batch %}
      <tr>
        <td>{{ forloop.counter }}</td>
        {% comment %} {% for j in courses %}
        {% if j.pk == i.cid.pk %}
        <td>{{j.name}}</td>
        {% endif %}
        {% endfor %} {% endcomment %}
        {% comment %} {% if i.cid.pk == course.id %}{% endif %} {% endcomment %}
       <td>{{i.cid}}</td>
        <td>{{ i.days}}</td>
        <td>{{ i.date }}</td>
        <td>{{ i.time }}{{i.a}}</td>
        <td>{{i.status}}</td>
        <td>
          <div class="d-flex align-items-center">
            <button type="button" class="btn btn-danger btn-sm btn-icon-text">
              <a name="delete"
                 href="../adminmodule/batchcontent?data={{ i.pk }}"
                 style="text-decoration:None;
                        color:white;">View</a>
              <i class="typcn typcn-edit btn-icon-append"></i>
            </button>
            <button type="button"
                    class="btn btn-success btn-sm btn-icon-text mr-3"
                     onclick="filldata({'pk':'{{ i.cid.pk }}','days':'{{ i.days }}','time':'{{ i.time }},'date':{{i.date}},'a':{{i.a}}})" 
                    data-bs-toggle="modal"
                    data-bs-target="#editBatchesModal">
                      Edit
              <i class="typcn typcn-edit btn-icon-append"></i>
            </button>
            <button type="button" class="btn btn-danger btn-sm btn-icon-text">
              <a name="delete"
                 href="../adminmodule/deleteinstance?data={{ i.pk }}&op=5"
                 style="text-decoration:None;
                        color:white;">Delete</a>
              <i class="typcn typcn-delete-outline btn-icon-append"></i>
            </button>
          </div>
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<h3 class="mx-auto" style="width: 400px;">
  There is no Batches
</h3>
{% endif %}
{% endblock content %}